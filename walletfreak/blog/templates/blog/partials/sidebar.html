{% load blog_extras %}
<div class="sidebar-container">
    <div class="sidebar-header">
        <div class="sidebar-title">
            <span class="material-icons sidebar-icon">tune</span>
            Filters
        </div>
        <a href="{% url 'blog_list' %}" 
           class="clear-all-btn"
           hx-get="{% url 'blog_list' %}"
           hx-target="#blog-grid-container"
           hx-push-url="true">
            Clear All
        </a>
    </div>

    <!-- Ecosystem -->
    <div class="filter-group">
        <div class="filter-group-title">Ecosystem</div>
        <div class="filter-chips">
            {% for vendor in ecosystem_vendors %}
            <a href="?{% toggle_url 'ecosystem' vendor %}"
               class="filter-chip {% if vendor in active_filters.ecosystem %}active{% endif %}"
               hx-get="?{% toggle_url 'ecosystem' vendor %}"
               hx-target="#blog-grid-container"
               hx-push-url="true">
                {{ vendor }}
            </a>
            {% endfor %}
        </div>
    </div>

    <!-- Content Type (Tags) -->
    <div class="filter-group">
        <div class="filter-group-title">Content Type</div>
        <div class="filter-chips">
            {% for tag in tags|slice:":8" %}
            <a href="?{% toggle_url 'tag' tag %}"
               class="filter-chip {% if tag in active_filters.tag %}active{% endif %}"
               hx-get="?{% toggle_url 'tag' tag %}"
               hx-target="#blog-grid-container"
               hx-push-url="true">
                {{ tag }}
            </a>
            {% endfor %}
        </div>
    </div>

    <!-- Experience Level -->
    <div class="filter-group">
        <div class="filter-group-title">Experience Level</div>
        <div class="filter-chips">
            {% for code, label in experience_levels %}
            <a href="?{% toggle_url 'experience_level' code %}"
               class="filter-chip {% if code in active_filters.experience_level %}active{% endif %}"
               hx-get="?{% toggle_url 'experience_level' code %}"
               hx-target="#blog-grid-container"
               hx-push-url="true">
                {{ label }}
            </a>
            {% endfor %}
        </div>
    </div>

    <!-- Read Time -->
    <div class="filter-group">
        <div class="filter-group-title">Read Time</div>
        <div class="filter-chips">
            {% for code, label in read_times %}
            <a href="?{% toggle_url 'read_time' code %}"
               class="filter-chip {% if code in active_filters.read_time %}active{% endif %}"
               hx-get="?{% toggle_url 'read_time' code %}"
               hx-target="#blog-grid-container"
               hx-push-url="true">
                {{ label }}
            </a>
            {% endfor %}
        </div>
    </div>
</div>
