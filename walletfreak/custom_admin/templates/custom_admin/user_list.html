{% extends 'base.html' %}

{% block content %}
<div class="container" style="padding: 2rem 0;">
    <h1>Manage Users</h1>
    <table style="width: 100%; border-collapse: collapse; margin-top: 2rem;">
        <thead>
            <tr style="text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1);">
                <th style="padding: 1rem;">UID / Email</th>
                <th style="padding: 1rem;">Super Staff?</th>
                <th style="padding: 1rem;">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for user in users %}
            <tr style="border-bottom: 1px solid rgba(255,255,255,0.05);">
                <td style="padding: 1rem;">{{ user.id }} <br> <small>{{ user.email }}</small></td>
                <td style="padding: 1rem;">
                    {% if user.is_super_staff %}
                    <span style="color: var(--accent);">Yes</span>
                    {% else %}
                    <span style="color: var(--text-muted);">No</span>
                    {% endif %}
                </td>
                <td style="padding: 1rem;">
                    <form action="{% url 'toggle_super_staff' user.id %}" method="POST">
                        {% csrf_token %}
                        <input type="checkbox" name="is_super_staff" onchange="this.form.submit()" {% if
                            user.is_super_staff %}checked{% endif %}>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}