    <!-- Add Program Modal -->
    <div id="add-program-modal" class="modal-overlay">
        <div class="modal-window-new" onclick="event.stopPropagation()">
            <!-- Header -->
            <div class="modal-header-new">
                <h2 class="modal-title-new">Add Loyalty Program</h2>
                <button class="modal-close-btn-new" onclick="toggleModal(false)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
                </button>
            </div>

            <!-- Content Container -->
            <div class="modal-body-new">
                
                <!-- View 1: List & Search -->
                <div id="view-list" class="animate-slide-in">
                    <div class="space-y-6">
                        <!-- Search -->
                        <div class="search-box-relative">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon-abs"><path d="m21 21-4.34-4.34"></path><circle cx="11" cy="11" r="8"></circle></svg>
                            <input id="program-search" placeholder="Search e.g. Delta, Hyatt..." class="search-input-new" type="text">
                        </div>

                        <!-- Filters -->
                         <div class="filter-group">
                            <button class="filter-btn active" data-filter="all" onclick="setFilter('all')">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"></path><path d="M2 12h20"></path></svg>
                                All
                            </button>
                            <button class="filter-btn inactive" data-filter="airline" onclick="setFilter('airline')">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"></path></svg>
                                Airlines
                            </button>
                            <button class="filter-btn inactive" data-filter="hotel" onclick="setFilter('hotel')">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 4v16"></path><path d="M2 8h18a2 2 0 0 1 2 2v10"></path><path d="M2 17h20"></path><path d="M6 8v9"></path></svg>
                                Hotels
                            </button>
                        </div>

                        <!-- List -->
                        <div class="programs-section">
                            <p class="section-label">Popular Programs</p>
                            <div class="programs-scroll-area" id="programs-list">
                                <!-- JS Injected -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- View 2: Add Details -->
                <div id="view-detail" class="animate-slide-in" style="display: none;">
                    <div class="space-y-8">
                        <!-- Selected Program Info -->
                        <div class="selected-program-card">
                            <div id="selected-icon" class="selected-icon-box">
                                ✈️
                            </div>
                            <div class="selected-info">
                                <h3 id="selected-name">Program Name</h3>
                                <button class="change-program-btn" onclick="switchView('list')">Change Program</button>
                            </div>
                        </div>

                        <!-- Balance Input -->
                        <div>
                            <label class="balance-label">Current Balance</label>
                            <div class="balance-input-wrapper">
                                <input id="new-program-balance" placeholder="0" class="balance-input-lg" type="text" inputmode="numeric">
                                <div class="balance-unit-badge">Points</div>
                            </div>
                        </div>

                        <!-- Action Button -->
                        <div class="pt-4">
                            <button id="btn-confirm-add" class="btn-add-portfolio" onclick="confirmAddProgram()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg> 
                                Add to Portfolio
                            </button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
