<!-- Edit Anniversary Date Modal -->
<div id="edit-anniversary-modal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1000; overflow-y: auto;">
    <div class="modal-content" style="background: white; width: 90%; max-width: 450px; border-radius: 16px; padding: 2rem; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); margin: 2rem auto;">
        <div class="modal-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
            <div>
                <h3 style="font-size: 1.25rem; font-weight: 700; color: #1F2937; margin: 0 0 0.5rem 0;">Edit Anniversary Date</h3>
                <p style="color: #64748B; margin: 0; font-size: 0.875rem;">Update when your card membership year starts.</p>
            </div>
            <button class="modal-close" onclick="closeEditAnniversaryModal()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #94A3B8; padding: 0.5rem; display: flex; align-items: center; justify-content: center; transition: color 0.2s;">
                <span class="material-icons">close</span>
            </button>
        </div>

        <!-- Warning Message -->
        <div style="background: #FEF2F2; border-left: 4px solid #EF4444; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.25rem;">
                <span class="material-icons" style="font-size: 18px; color: #B91C1C;">warning</span>
                <div style="font-weight: 700; color: #B91C1C; font-size: 0.875rem;">Warning</div>
            </div>
            <div style="color: #7F1D1D; font-size: 0.875rem; line-height: 1.4;">
                Changing the anniversary date will <strong>reset the benefits</strong> for this card as everything will be re-calculated.
            </div>
        </div>

        <!-- Date Input Container -->
        <div style="margin-bottom: 2rem;">
            <!-- Scrollable Content -->
        <div style="flex: 1; overflow-y: auto; padding-right: 4px; padding-bottom: 2rem;">
            <!-- Date Input -->
            <div style="margin-bottom: 1.5rem;">
                <label style="display: block; font-weight: 600; margin-bottom: 0.5rem; color: #1F2937;">Anniversary Date</label>
                <div style="font-size: 0.75rem; color: #64748B; margin-bottom: 0.5rem;">Best estimate if cannot find. The more accurate the anniversary, the better the tracking. <span style="display: flex; align-items: center; margin-top: 4px; color: #4B5563;"><span class="material-icons" style="font-size: 16px; margin-right: 4px; color: #F59E0B;">lightbulb</span>You can find your anniversary date by your earliest statement.</span></div>
                
                <input type="date" id="edit-anniversary-date-input" 
                       style="width: 100%; padding: 0.875rem 1rem; border: 2px solid #E5E7EB; border-radius: 10px; font-size: 1rem; font-weight: 600;">

                <!-- Default Display (Hidden by default) -->
                <div id="edit-anniversary-default-display" style="display: none; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; background: #F3F4F6; border-radius: 8px; border: 1px dashed #9CA3AF; margin-top: 0.5rem;">
                    <span class="material-icons" style="color: #6B7280;">event_busy</span>
                    <span style="flex: 1; font-weight: 500; color: #374151;">Default (<span id="edit-anniversary-default-date-display-text">1/1/....</span>)</span>
                    <button onclick="clearAnniversaryDefault()" style="background: none; border: none; cursor: pointer; color: #6B7280; display: flex; align-items: center;" title="Clear Default">
                        <span class="material-icons" style="font-size: 18px;">close</span>
                    </button>
                </div>

                <!-- "I don't know" Button -->
                <button id="btn-unknown-anniversary" type="button" onclick="setAnniversaryDefault()" style="margin-top: 0.75rem; background: none; border: none; color: #6366F1; font-size: 0.875rem; font-weight: 500; cursor: pointer; padding: 0; display: flex; align-items: center; gap: 0.25rem;">
                    I don't know my Anniversary
                </button>

                <p style="color: #64748B; font-size: 0.875rem; margin-top: 0.5rem;">This helps track which months/quarters are available for benefit tracking.</p>
            </div>

            <!-- Example -->
            <div style="background: #FEF3C7; border-left: 4px solid #F59E0B; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
                <div style="font-weight: 600; color: #92400E; margin-bottom: 0.25rem; font-size: 0.875rem;">ðŸ’¡ Example</div>
                <div style="color: #78350F; font-size: 0.875rem;">If you got your card in October 2025, months before October will be grayed out.</div>
            </div>
        </div>
        </div>

        <!-- Hidden ID -->
        <input type="hidden" id="edit-anniversary-card-id">

        <!-- Action Buttons -->
        <div style="display: flex; gap: 1rem;">
            <button onclick="closeEditAnniversaryModal()" style="flex: 1; background: white; color: #4B5563; border: 1px solid #D1D5DB; padding: 0.75rem; border-radius: 8px; font-weight: 600; cursor: pointer; transition: background 0.2s;">
                Cancel
            </button>
            <button onclick="confirmAnniversaryUpdate()" style="flex: 1; background: #6366F1; color: white; border: none; padding: 0.75rem; border-radius: 8px; font-weight: 600; cursor: pointer; transition: background 0.2s; box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);">
                Update Date
            </button>
        </div>
    </div>
</div>
