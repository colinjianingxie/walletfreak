{% extends 'base.html' %}

{% block content %}
<!-- Hero Section with Card Stack -->
<section style="background: linear-gradient(135deg, #F9FAFB 0%, #FFFFFF 100%); padding: 6rem 0 4rem; position: relative; overflow: hidden;">
    <div class="container" style="position: relative; z-index: 1;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: center;">
            <!-- Left side: Content -->
            <div>
                <!-- BETA Badge -->
                <div style="display: inline-flex; align-items: center; gap: 0.5rem; background: #EEF2FF; color: #6366F1; padding: 0.375rem 0.875rem; border-radius: 6px; margin-bottom: 1.5rem; font-size: 0.75rem; font-weight: 700; letter-spacing: 0.05em;">
                    ‚≠ê BETA ACCESS OPEN
                </div>

                <!-- Headline -->
                <h1 style="font-size: clamp(2.5rem, 6vw, 4rem); font-weight: 700; line-height: 1.1; margin-bottom: 1.5rem; color: #1F2937;">
                    Master your wallet. <span style="display: block; background: linear-gradient(135deg, #7C3AED 0%, #A855F7 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Freakishly fast.</span>
                </h1>

                <!-- Subtitle -->
                <p style="font-size: 1.125rem; line-height: 1.7; margin-bottom: 2rem; color: #64748B;">
                    Stop losing money on unused subscriptions and forgotten credit card perks. WalletFreak tracks every benefit so you don't have to.
                </p>

                <!-- CTA Section -->
                <div style="display: flex; align-items: center; gap: 1.5rem; margin-bottom: 2rem;">
                    <a href="{% url 'quiz' %}" class="btn" style="background: linear-gradient(135deg, #7C3AED 0%, #6366F1 100%); color: white; padding: 1rem 2rem; font-size: 1rem; font-weight: 600; box-shadow: 0 8px 20px rgba(124, 58, 237, 0.3); transition: all 0.3s ease; border: none; display: inline-flex; align-items: center; gap: 0.5rem; border-radius: 12px;">
                        Start Optimizing
                        <span style="font-size: 1.2rem;">‚Üí</span>
                    </a>
                    <div style="display: flex; align-items: center; gap: 0.5rem; color: #64748B; font-size: 0.875rem;">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" style="color: #10B981;">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M5 8L7 10L11 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        No credit card required
                    </div>
                </div>
            </div>

            <!-- Right side: Card Stack with Savings Badge -->
            <div style="display: flex; justify-content: center; align-items: center; position: relative;">
                <!-- Annual Savings Badge -->
                <div style="position: absolute; top: 20px; right: -20px; z-index: 10; background: linear-gradient(135deg, #10B981 0%, #059669 100%); color: white; padding: 0.75rem 1.25rem; border-radius: 12px; box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3); display: flex; align-items: center; gap: 0.75rem;">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10 2L12 8L18 8L13 12L15 18L10 14L5 18L7 12L2 8L8 8L10 2Z" fill="currentColor"/>
                    </svg>
                    <div>
                        <div style="font-size: 0.7rem; opacity: 0.9; line-height: 1;">ANNUAL SAVINGS</div>
                        <div style="font-size: 1.25rem; font-weight: 700; line-height: 1;">+$1,250/yr</div>
                    </div>
                </div>
                
                <div class="card-stack">
                    <!-- Card 1 - Amex Platinum -->
                    <div class="credit-card card-amex-platinum">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                            <div style="font-size: 0.75rem; font-weight: 600; letter-spacing: 0.1em;">AMERICAN EXPRESS
                            </div>
                        </div>
                        <div class="credit-card-chip"></div>
                        <div class="credit-card-number">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 1005</div>
                        <div style="display: flex; justify-content: space-between; align-items: flex-end;">
                            <div class="credit-card-name">Platinum Card¬Æ</div>
                        </div>
                    </div>

                    <!-- Card 2 - Chase Sapphire -->
                    <div class="credit-card card-chase">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                            <div style="font-size: 0.75rem; font-weight: 600; letter-spacing: 0.1em;">CHASE</div>
                        </div>
                        <div class="credit-card-chip"></div>
                        <div class="credit-card-number">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 4421</div>
                        <div style="display: flex; justify-content: space-between; align-items: flex-end;">
                            <div class="credit-card-name">Sapphire Reserve</div>
                        </div>
                    </div>

                    <!-- Card 3 - Venture X -->
                    <div class="credit-card card-capital-one">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                            <div style="font-size: 0.75rem; font-weight: 600; letter-spacing: 0.1em;">CAPITAL ONE</div>
                        </div>
                        <div class="credit-card-chip"></div>
                        <div class="credit-card-number">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 4242</div>
                        <div style="display: flex; justify-content: space-between; align-items: flex-end;">
                            <div class="credit-card-name">Venture X</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bank logos -->
        <div style="margin-top: 5rem; padding-top: 3rem; border-top: 1px solid rgba(255,255,255,0.15);">
            <div
                style="text-align: center; color: rgba(255,255,255,0.7); font-size: 0.85rem; margin-bottom: 1.5rem; text-transform: uppercase; letter-spacing: 0.1em; font-weight: 600;">
                Trusted by cardholders at
            </div>
            <div style="display: flex; justify-content: center; align-items: center; gap: 3rem; flex-wrap: wrap;">
                <div style="color: rgba(255,255,255,0.9); font-size: 1.1rem; font-weight: 600; letter-spacing: 0.05em;">
                    Chase
                </div>
                <div style="color: rgba(255,255,255,0.9); font-size: 1.1rem; font-weight: 600; letter-spacing: 0.05em;">
                    American Express
                </div>
                <div style="color: rgba(255,255,255,0.9); font-size: 1.1rem; font-weight: 600; letter-spacing: 0.05em;">
                    Citi
                </div>
                <div style="color: rgba(255,255,255,0.9); font-size: 1.1rem; font-weight: 600; letter-spacing: 0.05em;">
                    Capital One
                </div>
            </div>
        </div>
    </div>
</section>

<!-- The Ledger Blog Section -->
{% if blog_posts %}
<section class="container" style="padding: 5rem 0;">
    <div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 3rem;">
        <div>
            <div style="font-size: 1.5rem; font-weight: 700; color: #1F2937; margin-bottom: 0.5rem;">
                üì∞ Latest from the Ledger
            </div>
            <p style="color: #64748B; font-size: 1rem; margin: 0;">
                Breaking news and strategies for the credit obsessed.
            </p>
        </div>
        <a href="{% url 'blog_list' %}" style="color: #6366F1; font-weight: 600; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">
            Read the Blog
            <span style="font-size: 1.2rem;">‚Üí</span>
        </a>
    </div>

    <!-- Blog Cards Grid (3 columns) -->
    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem;">
        {% for post in blog_posts|slice:":3" %}
        <a href="{% url 'blog_detail' post.slug %}"
            style="text-decoration: none; color: inherit; display: block; background: white; border-radius: 16px; overflow: hidden; border: 1px solid #E5E7EB; transition: all 0.3s; box-shadow: 0 2px 8px rgba(0,0,0,0.04);" class="blog-card">
            <!-- Image -->
            {% if post.image_url %}
            <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); background-image: url('{{ post.image_url }}'); background-size: cover; background-position: center; position: relative;">
            {% else %}
            <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); position: relative; display: flex; align-items: center; justify-content: center; font-size: 3rem;">
                {% if 'sapphire' in post.title|lower %}‚úàÔ∏è
                {% elif 'amex' in post.title|lower or 'american express' in post.title|lower %}üí≥
                {% elif 'capital' in post.title|lower %}üéØ
                {% else %}üìä{% endif %}
            {% endif %}
                <!-- Category Badge -->
                <div style="position: absolute; top: 1rem; left: 1rem;">
                    <span style="background: {% if forloop.counter0 == 0 %}#EEF2FF; color: #6366F1{% elif forloop.counter0 == 1 %}#FEF3C7; color: #D97706{% else %}#DBEAFE; color: #2563EB{% endif %}; font-size: 0.7rem; font-weight: 700; padding: 0.375rem 0.75rem; border-radius: 6px; letter-spacing: 0.05em; text-transform: uppercase;">
                        {% if forloop.counter0 == 0 %}NEWS{% elif forloop.counter0 == 1 %}GUIDE{% else %}REVIEW{% endif %}
                    </span>
                </div>
            </div>
            
            <!-- Content -->
            <div style="padding: 1.5rem;">
                <!-- Timestamp -->
                <div style="color: #9CA3AF; font-size: 0.75rem; font-weight: 600; margin-bottom: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em;">
                    {% if post.published_at %}{{ post.published_at|timesince|slice:":7" }} AGO{% else %}2 HOURS AGO{% endif %}
                </div>
                
                <!-- Title -->
                <h3 style="font-size: 1.125rem; font-weight: 700; color: #1F2937; margin-bottom: 0.75rem; line-height: 1.4;">
                    {{ post.title }}
                </h3>
                
                <!-- Description -->
                <p style="color: #64748B; font-size: 0.875rem; line-height: 1.6; margin-bottom: 1rem;">
                    {{ post.excerpt|default:post.content|truncatewords:15 }}
                </p>
                
                <!-- Read Story Link -->
                <div style="color: #6366F1; font-weight: 600; font-size: 0.875rem; display: flex; align-items: center; gap: 0.5rem;">
                    Read Story
                    <span style="font-size: 1rem;">‚Üí</span>
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
</section>

<style>
    .blog-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.1) !important;
    }
</style>
{% endif %}

<!-- Find Your Next Power Player Section -->
<section style="background: linear-gradient(135deg, #1E293B 0%, #0F172A 100%); padding: 6rem 0; position: relative; overflow: hidden;">
    <!-- Background decoration -->
    <div style="position: absolute; top: -100px; right: -100px; width: 400px; height: 400px; background: rgba(124, 58, 237, 0.1); border-radius: 50%; filter: blur(100px);"></div>
    <div style="position: absolute; bottom: -100px; left: -100px; width: 400px; height: 400px; background: rgba(99, 102, 241, 0.1); border-radius: 50%; filter: blur(100px);"></div>
    
    <div class="container" style="position: relative; z-index: 1;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: center;">
            <!-- Left: Content -->
            <div>
                <!-- Badge -->
                <div style="display: inline-flex; align-items: center; gap: 0.5rem; background: rgba(255,255,255,0.1); color: #FCD34D; padding: 0.375rem 0.875rem; border-radius: 6px; margin-bottom: 1.5rem; font-size: 0.75rem; font-weight: 700; letter-spacing: 0.05em; border: 1px solid rgba(252, 211, 77, 0.3);">
                    ‚≠ê Top Rated Cards
                </div>
                
                <!-- Title -->
                <h2 style="font-size: clamp(2.5rem, 5vw, 3.5rem); font-weight: 700; line-height: 1.1; margin-bottom: 1.5rem; color: white;">
                    Find your next power player.
                </h2>
                
                <!-- Description -->
                <p style="font-size: 1.125rem; line-height: 1.7; margin-bottom: 2.5rem; color: #94A3B8;">
                    Whether you're looking for 5x on dining or unlimited lounge access, our AI-powered database helps you find the perfect match.
                </p>
                
                <!-- CTA Button -->
                <a href="{% url 'card_list' %}" class="btn" style="background: white; color: #1F2937; padding: 1rem 2rem; font-size: 1rem; font-weight: 600; box-shadow: 0 8px 20px rgba(255,255,255,0.15); transition: all 0.3s ease; border: none; display: inline-flex; align-items: center; gap: 0.5rem; border-radius: 12px;">
                    Explore All Cards
                    <span style="font-size: 1.2rem;">‚Üí</span>
                </a>
            </div>
            
            <!-- Right: Card Preview Mockup -->
            <div style="display: flex; flex-direction: column; gap: 1rem;">
                <!-- Card 1 -->
                <div style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; padding: 1.5rem; backdrop-filter: blur(10px); display: flex; align-items: center; gap: 1rem;">
                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #0EA5E9 0%, #06B6D4 100%); border-radius: 12px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üíé</div>
                    <div style="flex: 1;">
                        <div style="font-size: 0.875rem; font-weight: 600; color: white; margin-bottom: 0.25rem;">Sapphire Reserve</div>
                        <div style="font-size: 0.75rem; color: #94A3B8;">5x Points</div>
                    </div>
                </div>
                
                <!-- Card 2 - Highlighted -->
                <div style="background: linear-gradient(135deg, #7C3AED 0%, #6366F1 100%); border: 1px solid rgba(167, 139, 250, 0.3); border-radius: 16px; padding: 1.5rem; display: flex; align-items: center; gap: 1rem; box-shadow: 0 12px 24px rgba(124, 58, 237, 0.3);">
                    <div style="width: 48px; height: 48px; background: rgba(255,255,255,0.2); border-radius: 12px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; backdrop-filter: blur(10px);">üí≥</div>
                    <div style="flex: 1;">
                        <div style="font-size: 0.875rem; font-weight: 600; color: white; margin-bottom: 0.25rem;">Gold Card</div>
                        <div style="font-size: 0.75rem; color: rgba(255,255,255,0.8);">5x Points</div>
                    </div>
                </div>
                
                <!-- Card 3 -->
                <div style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; padding: 1.5rem; backdrop-filter: blur(10px); display: flex; align-items: center; gap: 1rem;">
                    <div style="width: 48px; height: 48px; background: linear-gradient(135deg, #10B981 0%, #059669 100%); border-radius: 12px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üí∞</div>
                    <div style="flex: 1;">
                        <div style="font-size: 0.875rem; font-weight: 600; color: white; margin-bottom: 0.25rem;">Venture X</div>
                        <div style="font-size: 0.75rem; color: #94A3B8;">$300 Credit</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    @media (max-width: 768px) {
        section>.container>div[style*="grid-template-columns: 1fr 1fr"] {
            grid-template-columns: 1fr !important;
            gap: 2rem !important;
        }

        .card-stack {
            max-width: 300px !important;
            height: 200px !important;
            margin: 0 auto;
        }
    }
</style>
{% endblock %}